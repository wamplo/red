(function(g){g.redriver={loadedcss:[],loadedjs:[],getJS:function(a,b,d){var c,e,f;c=this;e=[];for(f=0;f<a[b].length;f+=1)g.inArray(a[b][f],c.loadedjs)===-1&&(d.cache===1&&(e.push(g.ajax({type:"GET",url:a[b][f],dataType:"script",cache:!0,async:!0})),c.loadedjs.push(a[b][f])),d.cache===0&&(e.push(g.ajax({type:"GET",url:a[b][f],dataType:"script",cache:!1,async:!0})),c.loadedjs.push(a[b][f])));g.when.apply(null,e).then(function(){b<a.length-1&&c.getJS(a,b+1,d)})},getScrip:function(a,b,d){var c,e,f;c=
this;e=[];for(f=0;f<a[b].length;f+=1)if(g.inArray(a[b][f],c.loadedjs)===-1){var i,h;i=document.getElementsByTagName("head")[0];h=document.createElement("script");h.type="text/javascript";h.src=a[b][f]+"?_="+(new Date).getTime();e.push(i.appendChild(h))}g.when.apply(null,e).then(function(){b<a.length-1&&setTimeout(function(){c.getScrip(a,b+1,d)},5)})},getStyle:function(a,b,d){var c,e;for(c=0;c<a.length;c+=1){if(g.inArray(a[c],this.loadedcss)===-1){e=document.createElement("link");e.type="text/css";
e.rel="stylesheet";if(b.cache===0)e.href=a[c]+"?_="+(new Date).getTime();if(b.cache===1)e.href=a[c];document.head.appendChild(e);this.loadedcss.push(a[c])}a.length-1===c&&d&&typeof d==="function"&&d()}},getContent:function(a,b,d){g("#"+a.id).html(a.html);d()},branch:function(a){var b,d;b=this;d={cache:a.cache};b.getStyle(a.css,d,function(){b.getContent(a.src,d,function(){a.js&&b.getJS(a.js,0,d)})})}}})(jQuery);
